zabbix_export:
  version: '5.2'
  date: '2020-10-19T10:51:56Z'
  groups:
    -
      name: Templates/Databases
  templates:
    -
      template: 'Apache Cassandra by JMX'
      name: 'Apache Cassandra by JMX'
      description: |
        The template to monitor Apache Cassandra by Zabbix that work without any external scripts.
        It works with both standalone and cluster instances.
        The metrics are collected by JMX.
        You can set {$CASSANDRA.USER} and {$CASSANDRA.PASSWORD} macros in the template for using on the host level.
        
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/410057-discussion-thread-for-official-zabbix-template-apache-cassandra
        
        Template tooling version used: 0.38
      groups:
        -
          name: Templates/Databases
      applications:
        -
          name: Cassandra
      items:
        -
          name: 'Cluster: Name'
          type: JMX
          key: 'jmx["org.apache.cassandra.db:type=StorageService","ClusterName"]'
          history: 7d
          trends: '0'
          value_type: CHAR
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: Version
          type: JMX
          key: 'jmx["org.apache.cassandra.db:type=StorageService","ReleaseVersion"]'
          history: 7d
          trends: '0'
          value_type: CHAR
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          triggers:
            -
              expression: '{diff()}=1 and {strlen()}>0'
              name: 'Version has changed (new version: {ITEM.VALUE})'
              priority: INFO
              description: 'Cassandra version has changed. Ack to close.'
              manual_close: 'YES'
        -
          name: 'Compaction: Number of completed tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=CompletedTasks,type=Compaction","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of completed compactions since server [re]start.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Commitlog: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=PendingTasks,type=CommitLog","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of commit log messages written but yet to be fsyncâ€™d.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Read median'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","50thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency read from disk in milliseconds - median.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Read 75 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","75thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency read from disk in milliseconds - p75.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Read 95 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","95thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency read from disk in milliseconds - p95.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Commitlog: Total size'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=TotalCommitLogSize,type=CommitLog","Value"]'
          history: 7d
          units: B
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Current size, in bytes, used by all the commit log segments.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Compaction: Total compactions completed'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=TotalCompactionsCompleted,type=Compaction","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Throughput of completed compactions since server [re]start.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Write median'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","50thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency write to disk in milliseconds - median.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Write 75 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","75thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency write to disk in milliseconds - p75.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Write 95 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","95thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Latency write to disk in milliseconds - p95.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'KeyCache: Capacity'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Capacity","Value"]'
          history: 7d
          units: B
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Cache capacity in bytes.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'KeyCache: Entries'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Entries","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total number of cache entries.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'KeyCache: HitRate'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=HitRate","Value"]'
          history: 7d
          value_type: FLOAT
          units: '%'
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'All time cache hit rate.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '100'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'KeyCache: Hits per second'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Hits","Count"]'
          history: 7d
          value_type: FLOAT
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Rate of cache hits.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'KeyCache: requests per second'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Requests","Count"]'
          history: 7d
          value_type: FLOAT
          units: rps
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Rate of cache requests.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'KeyCache: Size'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Size","Value"]'
          history: 7d
          units: B
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total size of occupied cache, in bytes.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Client connections: Native'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Client,name=connectedNativeClients","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of clients connected to this nodes native protocol server.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Client connections: Trifts'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Client,name=connectedThriftClients","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of connected to this nodes thrift clients.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Client request read median'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","50thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving data to clients in milliseconds - median.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Client request read 75 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","75thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving data to clients in milliseconds - p75.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Client request read 95 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","95thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving data to clients in milliseconds - p95.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Client request: Read per second'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","Count"]'
          history: 7d
          value_type: FLOAT
          units: rps
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'The number of client requests per second.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Client request write median'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","50thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving write requests from clients in milliseconds - median.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Client request write 75 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","75thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving write requests from clients in milliseconds - p75.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Latency: Client request write 95 percentile'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","95thPercentile"]'
          history: 7d
          value_type: FLOAT
          units: ms
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Total latency serving write requests from clients in milliseconds - p95.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Client request: Write per second'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","Count"]'
          history: 7d
          value_type: FLOAT
          units: rps
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'The number of local write requests per second.'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Client request: Write Timeouts'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Timeouts","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of write requests timeouts encountered.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Compaction: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Compaction,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Estimated number of compactions remaining to perform.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          triggers:
            -
              expression: '{min(15m)}>{$CASSANDRA.PENDING_TASKS.MAX.WARN}'
              name: 'Many pending tasks (over {$CASSANDRA.PENDING_TASKS.MAX.WARN} for 15m)'
              priority: WARNING
              dependencies:
                -
                  name: 'Too many pending tasks (over {$CASSANDRA.PENDING_TASKS.MAX.HIGH} for 15m)'
                  expression: '{Apache Cassandra by JMX:jmx["org.apache.cassandra.metrics:type=Compaction,name=PendingTasks","Value"].min(15m)}>{$CASSANDRA.PENDING_TASKS.MAX.HIGH}'
            -
              expression: '{min(15m)}>{$CASSANDRA.PENDING_TASKS.MAX.HIGH}'
              name: 'Too many pending tasks (over {$CASSANDRA.PENDING_TASKS.MAX.HIGH} for 15m)'
              priority: AVERAGE
        -
          name: 'Dropped messages: Write (Mutation)'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=DroppedMessage,scope=MUTATION,name=Dropped","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of dropped regular writes messages.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Dropped messages: Read'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=DroppedMessage,scope=READ,name=Dropped","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of dropped regular reads messages.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Storage: Errors'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Storage,name=Exceptions","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of internal exceptions caught. Under normal exceptions this should be zero.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          triggers:
            -
              expression: '{min(5m)}>0'
              name: 'Too many storage exceptions'
              priority: WARNING
        -
          name: 'Storage: Used (bytes)'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Storage,name=Load","Count"]'
          history: 7d
          units: B
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Size, in bytes, of the on disk data size this node manages.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          triggers:
            -
              expression: '{nodata(15m)}=1'
              name: 'Failed to fetch info data (or no data for 15m)'
              priority: WARNING
              description: 'Zabbix has not received data for items for the last 15 minutes'
        -
          name: 'Storage: Hints'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=Storage,name=TotalHints","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: 'Number of hint messages written to this node since [re]start. Includes one entry for each host to be hinted per hint.'
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool HintsDispatcher: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=HintsDispatcher,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            HintsDispatcher:	Performs hinted handoff.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool HintsDispatcher: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=HintsDispatcher,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            HintsDispatcher:	Performs hinted handoff.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool HintsDispatcher: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=HintsDispatcher,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            HintsDispatcher:	Performs hinted handoff.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MemtableFlushWriter: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtableFlushWriter,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MemtableFlushWriter:	Writes memtables to disk.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MemtableFlushWriter: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtableFlushWriter,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MemtableFlushWriter:	Writes memtables to disk.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MemtableFlushWriter: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtableFlushWriter,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MemtableFlushWriter:	Writes memtables to disk.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MemtablePostFlush: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtablePostFlush,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MemtablePostFlush:	Cleans up commit log after memtable is written to disk.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MemtablePostFlush: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtablePostFlush,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MemtablePostFlush:	Cleans up commit log after memtable is written to disk.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MemtablePostFlush: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MemtablePostFlush,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MemtablePostFlush:	Cleans up commit log after memtable is written to disk.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MigrationStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MigrationStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MigrationStage:	Runs schema migrations.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MigrationStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MigrationStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MigrationStage:	Runs schema migrations.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MigrationStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MigrationStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MigrationStage:	Runs schema migrations.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MiscStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MiscStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MiscStage:	Misceleneous tasks run here.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MiscStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MiscStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MiscStage:	Misceleneous tasks run here.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MiscStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=MiscStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MiscStage:	Misceleneous tasks run here.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool SecondaryIndexManagement: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=SecondaryIndexManagement,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            SecondaryIndexManagement:	Performs updates to secondary indexes.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool SecondaryIndexManagement: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=SecondaryIndexManagement,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            SecondaryIndexManagement:	Performs updates to secondary indexes.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool SecondaryIndexManagement: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=SecondaryIndexManagement,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            SecondaryIndexManagement:	Performs updates to secondary indexes.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool CounterMutationStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=CounterMutationStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            CounterMutationStage:	Responsible for counter writes.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool CounterMutationStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=CounterMutationStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            CounterMutationStage:	Responsible for counter writes.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool CounterMutationStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=CounterMutationStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            CounterMutationStage:	Responsible for counter writes.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MutationStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=MutationStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            MutationStage:	Responsible for writes (exclude materialized and counter writes).
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool.MutationStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=MutationStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            MutationStage:	Responsible for writes (exclude materialized and counter writes).
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool MutationStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=MutationStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            MutationStage:	Responsible for writes (exclude materialized and counter writes).
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool ReadStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            ReadStage:	Local reads run on this thread pool.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool ReadStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            ReadStage:	Local reads run on this thread pool.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool ReadStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            ReadStage:	Local reads run on this thread pool.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool ViewMutationStage: Currently blocked task'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ViewMutationStage,name=CurrentlyBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that are currently blocked due to queue saturation but on retry will become unblocked.
            ViewMutationStage:	Responsible for materialized view writes.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool ViewMutationStage: Pending tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ViewMutationStage,name=PendingTasks","Value"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of queued tasks queued up on this pool.
            ViewMutationStage:	Responsible for materialized view writes.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Thread pool ViewMutationStage: Total blocked tasks'
          type: JMX
          key: 'jmx["org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ViewMutationStage,name=TotalBlockedTasks","Count"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          description: |
            Number of tasks that were blocked due to queue saturation.
            ViewMutationStage:	Responsible for materialized view writes.
          applications:
            -
              name: Cassandra
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          name: 'Cluster: Nodes down'
          type: JMX
          key: 'jmx["org.apache.cassandra.net:type=FailureDetector","DownEndpointCount"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          triggers:
            -
              expression: '{last()}>0'
              name: 'There are down nodes in cluster'
              priority: AVERAGE
        -
          name: 'Cluster: Nodes up'
          type: JMX
          key: 'jmx["org.apache.cassandra.net:type=FailureDetector","UpEndpointCount"]'
          history: 7d
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          applications:
            -
              name: Cassandra
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
      discovery_rules:
        -
          name: Tables
          type: JMX
          key: 'jmx.discovery[beans,"org.apache.cassandra.metrics:type=Table,keyspace=*,scope=*,name=ReadLatency"]'
          delay: 1h
          username: '{$CASSANDRA.USER}'
          password: '{$CASSANDRA.PASSWORD}'
          filter:
            evaltype: AND
            conditions:
              -
                macro: '{#JMXKEYSPACE}'
                value: '{$CASSANDRA.KEY_SPACE.MATCHES}'
                formulaid: A
              -
                macro: '{#JMXKEYSPACE}'
                value: '{$CASSANDRA.KEY_SPACE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          description: 'Info about keyspaces and tables'
          item_prototypes:
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Bloom filter false ratio'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=BloomFilterFalseRatio","Value"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The ratio of Bloom filter false positives to total checks.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Bytes flushed'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=BytesFlushed","Count"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The amount of data that was flushed since (re)start.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Col update time delta75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ColUpdateTimeDeltaHistogram","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The column update time delta - p75.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Col update time delta 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ColUpdateTimeDeltaHistogram","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The column update time delta - p95.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Compaction bytes written'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=CompactionBytesWritten","Count"]'
              history: 7d
              value_type: FLOAT
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The amount of data that was compacted since (re)start.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Compression ratio'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=CompressionRatio","Value"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The compression ratio for all SSTables.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: KeyCache hit rate'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=KeyCacheHitRate","Value"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The key cache hit rate.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Live disk space used'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=LiveDiskSpaceUsed","Count"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The disk space used by "live" SSTables (only counts in use files).'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Live SS Table'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=LiveSSTableCount","Value"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Number of "live" (in use) SSTables.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Max sartition size'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=MaxPartitionSize","Value"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The size of the largest compacted partition.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Mean partition size'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=MeanPartitionSize","Value"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The average size of compacted partition.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Pending compactions'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=PendingCompactions","Value"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of pending compactions.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Pending flushes'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=PendingFlushes","Count"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of pending flushes.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Read latency 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Latency read from disk in milliseconds.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Read latency 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Latency read from disk in milliseconds.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Read per second'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","Count"]'
              history: 7d
              value_type: FLOAT
              units: rps
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of client requests per second.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Row cache hits'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=RowCacheHit","Count"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of row cache hits.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Out of row cache hits'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=RowCacheHitOutOfRange","Count"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of row cache hits that do not satisfy the query filter and went to disk.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Row cache misses'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=RowCacheMiss","Count"]'
              history: 7d
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of table row cache misses.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Snapshots size'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=SnapshotsSize","Value"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The disk space truly used by snapshots.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: SS Tables per read 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=SSTablesPerReadHistogram","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of SSTable data files accessed per read - p75.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: SS Tables per read 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=SSTablesPerReadHistogram","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of SSTable data files accessed per read - p95.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Tombstone scanned 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=TombstoneScannedHistogram","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Number of tombstones scanned per read - p75.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Tombstone scanned 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=TombstoneScannedHistogram","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Number of tombstones scanned per read - p95.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Disk space used'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=TotalDiskSpaceUsed","Count"]'
              history: 7d
              units: B
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Disk space used.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Waiting on free memtable space 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WaitingOnFreeMemtableSpace","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The time spent waiting for free memtable space either on- or off-heap - p75.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Waiting on free memtable space95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WaitingOnFreeMemtableSpace","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The time spent waiting for free memtable space either on- or off-heap - p95.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Write latency 75 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","75thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Latency write to disk in milliseconds.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Write latency 95 percentile'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","95thPercentile"]'
              history: 7d
              value_type: FLOAT
              units: ms
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'Latency write to disk in milliseconds.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Write per second'
              type: JMX
              key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","Count"]'
              history: 7d
              value_type: FLOAT
              units: rps
              username: '{$CASSANDRA.USER}'
              password: '{$CASSANDRA.PASSWORD}'
              description: 'The number of local write requests per second.'
              application_prototypes:
                -
                  name: 'Cassandra table {#JMXKEYSPACE}.{#JMXSCOPE}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          graph_prototypes:
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Read\Write latency'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","75thPercentile"]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","95thPercentile"]'
                -
                  sortorder: '2'
                  color: F63100
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","75thPercentile"]'
                -
                  sortorder: '3'
                  color: A54F10
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","95thPercentile"]'
            -
              name: '{#JMXKEYSPACE}.{#JMXSCOPE}: Requests rate'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=WriteLatency","Count"]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'Apache Cassandra by JMX'
                    key: 'jmx["org.apache.cassandra.metrics:type=Table,keyspace={#JMXKEYSPACE},scope={#JMXSCOPE},name=ReadLatency","Count"]'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
      macros:
        -
          macro: '{$CASSANDRA.KEY_SPACE.MATCHES}'
          value: '.*'
          description: 'Filter of discoverable key spaces'
        -
          macro: '{$CASSANDRA.KEY_SPACE.NOT_MATCHES}'
          value: (system|system_auth|system_distributed|system_schema)
          description: 'Filter to exclude discovered key spaces'
        -
          macro: '{$CASSANDRA.PASSWORD}'
          value: zabbix
        -
          macro: '{$CASSANDRA.PENDING_TASKS.MAX.HIGH}'
          value: '500'
        -
          macro: '{$CASSANDRA.PENDING_TASKS.MAX.WARN}'
          value: '350'
        -
          macro: '{$CASSANDRA.USER}'
          value: zabbix
  graphs:
    -
      name: 'Client connections'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=Client,name=connectedNativeClients","Value"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=Client,name=connectedThriftClients","Value"]'
    -
      name: 'Client requests rate'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","Count"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","Count"]'
    -
      name: 'Client requests Read\Write latency'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","50thPercentile"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","50thPercentile"]'
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","75thPercentile"]'
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency","95thPercentile"]'
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","75thPercentile"]'
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency","95thPercentile"]'
    -
      name: 'Dropped Messages'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=DroppedMessage,scope=READ,name=Dropped","Count"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=DroppedMessage,scope=MUTATION,name=Dropped","Count"]'
    -
      name: 'KeyCache Hit rate'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Hits","Count"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Requests","Count"]'
    -
      name: 'Nodes state'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.net:type=FailureDetector","UpEndpointCount"]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.net:type=FailureDetector","DownEndpointCount"]'
    -
      name: 'Tables Read\Write latency'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 1A7C11
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","50thPercentile"]'
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: 2774A4
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","50thPercentile"]'
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","75thPercentile"]'
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=ReadLatency,type=Table","95thPercentile"]'
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","75thPercentile"]'
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'Apache Cassandra by JMX'
            key: 'jmx["org.apache.cassandra.metrics:name=WriteLatency,type=Table","95thPercentile"]'
